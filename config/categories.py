"""
카테고리 매핑 및 설정
워드프레스 카테고리 ID와 쿠팡 허용/비허용 카테고리를 관리합니다.
"""

# 워드프레스 카테고리 ID 매핑
# (워드프레스 관리자에서 실제 카테고리 ID 확인 후 수정)
CATEGORIES = {
    "트렌드": 1,
    "재테크": 2,
    "IT/가전": 3,
    "생활정보": 4,
    "건강": 5,
    "자동차": 6,
    "연예": 7,
    "취업/교육": 8,
}

# 쿠팡 파트너스 허용 카테고리
# 상품 추천이 자연스러운 카테고리
COUPANG_ALLOWED = [
    "재테크",
    "IT/가전",
    "생활정보",
    "건강",
    "자동차",
]

# 쿠팡 파트너스 비허용 카테고리
# 상품 추천이 부적절한 카테고리
COUPANG_BLOCKED = [
    "트렌드",
    "정치",
    "사회",
    "연예",
    "사건사고",
]

# 키워드 → 카테고리 매핑 규칙
KEYWORD_CATEGORY_RULES = {
    "재테크": [
        "연말정산", "세금", "주식", "펀드", "적금", "예금", "대출", "금리",
        "부동산", "청약", "전세", "월세", "보험", "퇴직금", "연금", "환율",
        "비트코인", "코인", "투자", "재테크", "절세", "ETF", "채권",
    ],
    "IT/가전": [
        "아이폰", "갤럭시", "삼성", "애플", "노트북", "컴퓨터", "태블릿",
        "에어컨", "냉장고", "세탁기", "TV", "모니터", "키보드", "마우스",
        "스마트폰", "워치", "이어폰", "충전기", "5G", "AI", "인공지능",
    ],
    "생활정보": [
        "자취", "이사", "청소", "수납", "인테리어", "요리", "레시피",
        "쇼핑", "할인", "세일", "쿠폰", "배달", "택배", "여행", "맛집",
        "교통", "주차", "전기세", "가스비", "관리비",
    ],
    "건강": [
        "다이어트", "운동", "헬스", "필라테스", "요가", "스트레칭",
        "영양제", "비타민", "건강검진", "병원", "약국", "감기", "독감",
        "코로나", "수면", "스트레스", "정신건강", "피부", "탈모",
    ],
    "자동차": [
        "자동차", "차량", "중고차", "신차", "보험", "정비", "세차",
        "주유", "기름값", "전기차", "하이브리드", "튜닝", "내비게이션",
        "블랙박스", "타이어", "엔진오일",
    ],
    "연예": [
        "드라마", "영화", "배우", "가수", "아이돌", "BTS", "블랙핑크",
        "예능", "콘서트", "팬미팅", "넷플릭스", "디즈니", "웨이브",
    ],
    "취업/교육": [
        "취업", "이직", "면접", "자소서", "이력서", "연봉", "채용",
        "공무원", "자격증", "시험", "공부", "영어", "토익", "토플",
    ],
}


def get_category_for_keyword(keyword: str) -> str:
    """
    키워드에 맞는 카테고리 반환

    Args:
        keyword: 검색할 키워드

    Returns:
        카테고리명 (기본값: "트렌드")
    """
    keyword_lower = keyword.lower()

    for category, keywords in KEYWORD_CATEGORY_RULES.items():
        for kw in keywords:
            if kw.lower() in keyword_lower:
                return category

    return "트렌드"


def get_category_id(category_name: str) -> int:
    """
    카테고리명으로 워드프레스 카테고리 ID 반환

    Args:
        category_name: 카테고리명

    Returns:
        카테고리 ID (기본값: 1)
    """
    return CATEGORIES.get(category_name, 1)


def is_coupang_allowed(category_name: str) -> bool:
    """
    해당 카테고리에 쿠팡 배너 삽입이 허용되는지 확인

    Args:
        category_name: 카테고리명

    Returns:
        True면 허용, False면 비허용
    """
    if category_name in COUPANG_BLOCKED:
        return False
    return category_name in COUPANG_ALLOWED
